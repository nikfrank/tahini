// test that the component, when made, gets his reducer grafted onto the global reducer hash
import { expect } from 'chai';

import React from 'react';

import {
  Base, connectDeviceFactory, bootStores
} from '../../test-index';

describe('reducer initialization', ()=>{
  it('assigns the device-reducer to the global reducerHash on its namespace', ()=>{
    
    const stores = bootStores();

    const { reducerHash } = stores;
    const { getDevice } = connectDeviceFactory( stores );

    expect(Object.keys(reducerHash)).to.eql(['global']);

    // creating the first of a type will assign its reducer onto the global reducer hash
    const BoundBase = getDevice(Base);
    expect(Object.keys(reducerHash)).to.contain(Base.namespace);
  });

  it.skip('cleans out the reducerHash namespace when dismounting the last of a kind?', ()=>{});
  it.skip('assigns a reducerHash to an autogenerated Symbol namespace when none is present on the device', ()=>{});
});
